{{- /* BEGIN DEFINE */ -}}

{{- define "Enum"}}
enum {{.Name}} {
{{- range .EnumFields}}
	{{.Name}} = {{.Value}};
{{- end}}
}
{{- end}}

{{- define "Entity"}}
message {{.Name}} {
{{- range .Fields}}
{{- if .IsTimestamp}}
	google.protobuf.Timestamp {{.Name}} = {{.Number}};
{{- else if .IsDuration}}
	google.protobuf.Duration {{.Name}} = {{.Number}};
{{- else}}
	{{.Type}} {{.Name}} = {{.Number}};
{{- end}}
{{- end}}
}
{{- end}}

{{- define "Component"}}
message {{.Name}} {
{{- range .Fields}}
{{- if .IsTimestamp}}
	google.protobuf.Timestamp {{.Name}} = {{.Number}};
{{- else if .IsDuration}}
	google.protobuf.Duration {{.Name}} = {{.Number}};
{{- else}}
	{{.Type}} {{.Name}} = {{.Number}};
{{- end}}
{{- end}}
}
{{- end}}

{{- /* END DEFINE */ -}}

// Code generated by kds. DO NOT EDIT.

syntax = "proto3";

package {{.Package}};
{{""}}
{{- range .Imports}}
import "{{.}}.proto";
{{- end}}
{{- if .ImportTimestamp}}
import "google/protobuf/timestamp.proto";
{{- end}}
{{- if .ImportDuration}}
import "google/protobuf/duration.proto";
{{- end}}

option go_package="github.com/iakud/keeper/kds/kdsc/example/pb";

{{- range .Defs}}
{{- if IsEnum .}}
{{template "Enum" .}}
{{- else if IsEntity .}}
{{template "Entity" .}}
{{- else if IsComponent .}}
{{template "Component" .}}
{{- end}}
{{- end}}